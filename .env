# ===============================
# Runner / Agendamento
# ===============================
RUN_INTERVAL_MIN=20                 # minutos entre ciclos (usado pelo runner)
LOG_LEVEL=INFO

# ===============================
# Universo de ativos / Rotação
# ===============================
TOP_SYMBOLS=95                      # só usado se SYMBOLS estiver vazio
SELECT_PER_CYCLE=12                 # quantas moedas por ciclo (rotação)
SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT,XRPUSDT,SOLUSDT,ADAUSDT,DOGEUSDT,TRXUSDT,AVAXUSDT,LINKUSDT,MATICUSDT,TONUSDT,SHIBUSDT,DOTUSDT,LTCUSDT,UNIUSDT,BCHUSDT,ETCUSDT,APTUSDT,IMXUSDT,FILUSDT,NEARUSDT,OPUSDT,XLMUSDT,HBARUSDT,INJUSDT,ARBUSDT,LDOUSDT,ATOMUSDT,STXUSDT,RNDRUSDT,ICPUSDT,PEPEUSDT,FDUSDUSDT,CROUSDT,MKRUSDT,TAOUSDT,SANDUSDT,AAVEUSDT,MEMEUSDT,QNTUSDT,EGLDUSDT,MINAUSDT,THETAUSDT,GALAUSDT,FTMUSDT,FLOWUSDT,SEIUSDT,ORDIUSDT,CHZUSDT,KASUSDT,MANAUSDT,BSVUSDT,KCSUSDT,CFXUSDT,DYDXUSDT,ENSUSDT,XTZUSDT,AXSUSDT,CRVUSDT,KAVAUSDT,APEUSDT,ZECUSDT,USDDUSDT,FXSUSDT,SUIUSDT,NEXOUSDT,PENDLEUSDT,COMPUSDT,RUNEUSDT,GMXUSDT,1INCHUSDT,FLRUSDT,ROSEUSDT,TWTUSDT,CELOUSDT,XRDUSDT,ARUSDT,ASTRUSDT,IOTAUSDT,SKLUSDT,BATUSDT,RSRUSDT,HOTUSDT,WOOUSDT,OCEANUSDT,DASHUSDT,GLMRUSDT,SSVUSDT,ZILUSDT,CHRUSDT,ICXUSDT,OMGUSDT

# ===============================
# Coleta de dados (CoinGecko)
# ===============================
DAYS_OHLC=30                       # usado pelo main
OHLC_DAYS=14                        # segurança para quem lê direto no fetcher
MIN_BARS=60
API_DELAY_OHLC=12.0                 # segundos entre chamadas (aumente p/ 15–20 se 429)
MAX_RETRIES=6
BACKOFF_BASE=2.5
API_DELAY_BULK=5                 # compatibilidade (se algum módulo usar)
BATCH_OHLC=8                        # se tiver coleta em lotes
BATCH_PAUSE_SEC=60                  # pausa entre lotes

# Mapas/Cache do CoinGecko
CG_IDS_FILE=cg_ids.json
CG_COINLIST_CACHE=cg_coinlist_cache.json
CG_IDS_AUTOREFRESH=1                # 1=auto mapear e salvar novos pares no cg_ids.json

# ===============================
# IA / Treinamento
# ===============================
TRAINING_ENABLED=true               # liga o pipeline de treino
TRAIN_MIN_SAMPLES=200               # mínimo de amostras para treinar
USE_AI=true                         # usa o modelo quando houver
AI_THRESHOLD=0.60                   # confiança mínima do modelo (0..1) para aceitar
DEBUG_SCORE=true                    # logs detalhados do score
MODEL_FILE=model.pkl
AUTO_LABEL_LOOKAHEAD_HOURS=48
AUTO_LABEL_EXCHANGE=coingecko
SAVE_HISTORY=True
HISTORY_DIR=data/history
TRAIN_EVERY_CYCLES=12

# ===============================
# Score / Confiança final
# ===============================
SCORE_THRESHOLD=0.60                # limiar do score técnico (0..1)
MIN_CONFIDENCE=0.40                 # confiança final (técnico (+sent) após mistura)
WEIGHT_TECH=1.5                     # peso do técnico
WEIGHT_SENT=0.30                     # peso do sentimento (0.0 = ignora por enquanto)
WEIGHT_AI=1.0

# ===============================
# Anti-duplicados / Gestão de posições
# ===============================
COOLDOWN_HOURS=6                    # tempo mínimo entre sinais do mesmo par
CHANGE_THRESHOLD_PCT=1.0            # % de mudança para re-enviar
SEND_STATUS_UPDATES=true            # se seu notifier usar mensagens de TP/SL
NEAR_MISS_PUSH=false                # opcional: enviar quase-sinais (se implementado)

# ===============================
# Sentimento (NewsData.io + cache)
# ===============================
NEWS_API_KEY=Jj8n0KhamP3uPYAdAiB0xNEEWL0biAMOHWRNOz5K
NEWS_LOOKBACK_HOURS=24
NEWS_MAX_PER_SOURCE=5
NEWS_TIMEOUT=10
NEWS_LANGS=en,pt
NEWS_CACHE_TTL_MIN=60               # cache de notícias por símbolo (minutos)
NEWS_CACHE_FILE=news_cache.json
USE_THENEWSAPI=false                # compat: desligado
USE_RSS_NEW=false                   # compat: desligado

# ===============================
# Arquivos locais
# ===============================
DATA_RAW_FILE=data_raw.json
SIGNALS_FILE=signals.json
HISTORY_FILE=history.json
MODEL_FILE=model.pkl
POSITIONS_FILE=positions.json
CURSOR_FILE=scan_state.json

# ===============================
# Telegram (preencher com o seu)
# ===============================
TELEGRAM_BOT_TOKEN=8158774385:AAGX4ztoFWmTe-ZqYRrOs-dDaS_AsC5NE4M
TELEGRAM_CHAT_ID=-1002897426078

# ===============================
# URLs (compatibilidade)
# ===============================
COINGECKO_API_URL=https://api.coingecko.com/api/v3
BINANCE_API_URL=https://api.binance.com
NEWS_API_URL=https://newsdata.io/api/1/news
# ===== Sentimento / NewsData.io =====
NEWS_API_KEY=pub_65cb024fde474f9ba805074c37bd9243      # <- sua chave da NewsData.io
NEWS_LOOKBACK_HOURS=12                 # janela: últimas 12h
NEWS_MAX_PER_SOURCE=5                  # no máx 5 notícias por fonte
NEWS_TIMEOUT=8.0                       # timeout por request (segundos)
NEWS_LANGS=en,pt                       # idiomas aceitos
NEWS_CATEGORY=business,technology      # categorias; pode incluir 'science'
NEWS_CACHE_FILE=news_cache.json        # cache local
NEWS_CACHE_TTL_MIN=30                  # 30 minutos de cache

# ===== Pesos de mistura (main já usa) =====
WEIGHT_TECH=1.0
WEIGHT_SENT=1.0                        # peso do sentimento no score final

# ==== Indicadores: pesos (0..2) e toggles ====
W_RSI=1.0
W_MACD=1.0
W_EMA=1.0
W_BB=0.7
W_STOCHRSI=0.8
W_ADX=0.8
W_ATR=0.0
W_CCI=0.5

EN_STOCHRSI=true
EN_ADX=true
EN_ATR=false
EN_CCI=true

# Log detalhado dos indicadores no cálculo do score
DEBUG_INDICATORS=true

# ===== DEBUG do score/indicadores =====
DEBUG_SCORE=true
DEBUG_INDICATORS=true

# ===== Periodos mínimos (se precisar) =====
RSI_PERIOD=14
EMA_FAST=12
EMA_SLOW=26
MACD_SIGNAL=9
BB_PERIOD=20
STOCHRSI_PERIOD=14
ADX_PERIOD=14
CCI_PERIOD=20

# ===== Indicadores - toggles (padrão EN_*) =====
EN_RSI=true
EN_MACD=true
EN_EMA=true
EN_BB=true
EN_STOCHRSI=true
EN_ADX=true
EN_ATR=false
EN_CCI=true
EN_ICHI=true
EN_OBV=true
EN_MFI=true
EN_WILLR=true

# ===== Indicadores - pesos (padrão W_*) =====
W_RSI=1.0
W_MACD=1.0
W_EMA=1.0
W_BB=0.7
W_STOCHRSI=0.8
W_ADX=0.8
W_ATR=0.0
W_CCI=0.5
W_WILLR=0.5
W_MFI=0.6
W_OBV=0.6
W_ICHI=0.8

# ===== Compatibilidade (se o código usar outro naming) =====
# Toggles com prefixo USE_* (ligam os mesmos indicadores)
USE_RSI=true
USE_MACD=true
USE_EMA=true
USE_BB=true
USE_STOCHRSI=true
USE_ADX=true
USE_ATR=false
USE_CCI=true

# Pesos alternativos (*_WEIGHT) — lidos por alguns códigos
RSI_WEIGHT=1.0
MACD_WEIGHT=1.0
EMA_WEIGHT=1.0
BB_WEIGHT=0.7
STOCHRSI_WEIGHT=0.8
ADX_WEIGHT=0.8
ATR_WEIGHT=0.0
CCI_WEIGHT=0.5

# --- Twitter Sentiment ---
TWITTER_USE=true
TWITTER_BEARER_TOKEN=AAAAAAAAAAAAAAAAAAAAAJyg3gEAAAAAIttc5n2QQTH2nZPp%2FQy0tT6kRAI%3Db8J9ALE3cVLQC4h3gusWWq7XLEXJ7OVJgk2ep7SkGjf7Wr8aWk

# Janela/limites Twitter
TWITTER_LOOKBACK_MIN=120
TWITTER_MAX_TWEETS=80
TWITTER_TIMEOUT=20
TWITTER_HOURLY_LIMIT=60
TWITTER_LANGS=en,pt
TWITTER_CACHE_TTL=900

# Pesos do sentimento combinado
WEIGHT_NEWS=1.0
WEIGHT_TWITTER=1.0
